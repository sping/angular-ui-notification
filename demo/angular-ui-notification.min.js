/**
 * angular-ui-notification - Angular.js service providing simple notifications using Bootstrap 3 styles with css transitions for animating
 * @author Alex_Crack
 * @version v0.0.14
 * @link https://github.com/alexcrack/angular-ui-notification
 * @license MIT
 */
angular.module("ui-notification",[]),angular.module("ui-notification").provider("Notification",function(){this.options={delay:5e3,startTop:10,startRight:10,verticalSpacing:10,horizontalSpacing:10,positionX:"right",positionY:"top",replaceMessage:!1,templateUrl:"angular-ui-notification.html",onClose:void 0},this.setOptions=function(e){if(!angular.isObject(e))throw new Error("Options should be an object!");this.options=angular.extend({},this.options,e)},this.$get=["$timeout","$http","$compile","$templateCache","$rootScope","$injector","$sce","$q","$window",function(e,t,i,n,o,s,a,l,r){var p=this.options,c=p.startTop,u=p.startRight,d=p.verticalSpacing,m=p.horizontalSpacing,g=p.delay,f=[],h=!1,v=function(s,v){var y=l.defer();return"object"!=typeof s&&(s={message:s}),s.scope=s.scope?s.scope:o,s.externalCache&&s.template?s.template=s.template:s.templateUrl?s.template=s.templateUrl:s.template=p.templateUrl,s.delay=angular.isUndefined(s.delay)?g:s.delay,s.type=v?v:"",s.positionY=s.positionY?s.positionY:p.positionY,s.positionX=s.positionX?s.positionX:p.positionX,s.replaceMessage=s.replaceMessage?s.replaceMessage:p.replaceMessage,s.onClose=s.onClose?s.onClose:p.onClose,t.get(s.template,{cache:n}).success(function(t){var n=s.scope.$new();n.message=a.trustAsHtml(s.message),n.title=a.trustAsHtml(s.title),n.t=s.type.substr(0,1),n.delay=s.delay,n.onClose=s.onClose;var o=function(){for(var e=0,t=0,i=c,n=u,o=[],a=f.length-1;a>=0;a--){var l=f[a];if(s.replaceMessage&&a<f.length-1)l.addClass("killed");else{var r=parseInt(l[0].offsetHeight),p=parseInt(l[0].offsetWidth),g=o[l._positionY+l._positionX];h+r>window.innerHeight&&(g=c,t++,e=0);var h=i=g?0===e?g:g+d:c,v=n+t*(m+p);l.css(l._positionY,h+"px"),"center"==l._positionX?l.css("left",parseInt(window.innerWidth/2-p/2)+"px"):l.css(l._positionX,v+"px"),o[l._positionY+l._positionX]=h+r,e++}}},l=i(t)(n);l._positionY=s.positionY,l._positionX=s.positionX,l.addClass(s.type),l.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd click",function(e){e=e.originalEvent||e,("click"===e.type||"opacity"===e.propertyName&&e.elapsedTime>=1)&&(l.remove(),f.splice(f.indexOf(l),1),o(),s.onClose&&s.onClose(l))}),angular.isNumber(s.delay)&&e(function(){l.addClass("killed")},s.delay),angular.element(document.getElementsByTagName("body")).append(l);var p=-(parseInt(l[0].offsetHeight)+50);l.css(l._positionY,p+"px"),f.push(l),n._templateElement=l,n.kill=function(t){t?(f.splice(f.indexOf(n._templateElement),1),n._templateElement.remove(),e(o),n.onClose&&n.onClose(n._templateElement)):n._templateElement.addClass("killed")},e(o),h||(angular.element(r).bind("resize",function(t){e(o)}),h=!0),y.resolve(n)}).error(function(e){throw new Error("Template ("+s.template+") could not be loaded. "+e)}),y.promise};return v.primary=function(e){return this(e,"primary")},v.error=function(e){return this(e,"error")},v.success=function(e){return this(e,"success")},v.info=function(e){return this(e,"info")},v.warning=function(e){return this(e,"warning")},v.clearAll=function(){angular.forEach(f,function(e){e.addClass("killed")})},v}]}),angular.module("ui-notification").run(["$templateCache",function(e){e.put("angular-ui-notification.html",'<div class="ui-notification"><h3 ng-show="title" ng-bind-html="title"></h3><div class="message" ng-bind-html="message"></div></div>')}]);